(this["webpackJsonpsrg-web"]=this["webpackJsonpsrg-web"]||[]).push([[0],{132:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),i=(n(132),n(45)),s=n.n(i),c=n(51),l=n(75),o=n(58),h=n(57),j=n(29),d=n(30),b=n(23),u=n(32),p=n(31),m=n(0),x=n.n(m),f=n(103),O=n.n(f),g=n(270),y=n(249),v=n(253),S=n(271),w=n(255),k=n(256),C=n(257),_=n(258),E=n(224),P=n(265),A=null;A="https://silverbug.eastus.cloudapp.azure.com";var T=n(2),L=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={isLoading:!1,isError:!1,alertState:!1,alertMsg:"Please check the form for errors"},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.showAlert=a.showAlert.bind(Object(b.a)(a)),a.hideAlert=a.hideAlert.bind(Object(b.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;"member_emails"===t?this.setState({member_emails:n.trim().split(/\r?\n/)}):"member_names"===t?this.setState({member_names:n.trim().split(/\r?\n/)}):"deadline"===t?this.setState({deadline:Date.parse(n)/1e3}):"grp_size"===t?this.setState({grp_size:parseInt(n)}):this.setState(Object(h.a)({},t,n))}},{key:"hideAlert",value:function(){this.setState({alertState:!1})}},{key:"showAlert",value:function(e){this.setState({alertMsg:e,alertState:!0})}},{key:"handleSubmit",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n,a,r,i,o,h,j,d,b=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=Object(l.a)(this.state.member_emails),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=11;break}if(r=a.value,O.a.isEmail(r.trim())){e.next=9;break}return this.showAlert("Please Check Member Emails For Error (Invalid Email-Id,Empty Rows etc)"),e.abrupt("return");case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:i=Object(l.a)(this.state.member_names),e.prev=20,i.s();case 22:if((o=i.n()).done){e.next=29;break}if(""!==o.value){e.next=27;break}return this.showAlert("Please Check Member Names For Error (Empty Rows etc)"),e.abrupt("return");case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(20),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:if(0!==this.state.member_emails.length&&0!==this.state.member_names.length){e.next=40;break}return this.showAlert("Please Fill All Fields"),e.abrupt("return");case 40:if(this.state.member_emails.length===this.state.member_names.length){e.next=43;break}return this.showAlert("Different Number Of Names And Email"),e.abrupt("return");case 43:if(!(this.state.member_emails.length<this.state.grp_size)){e.next=46;break}return this.showAlert("Number of members cannot be less than group size."),e.abrupt("return");case 46:if(!(this.state.deadline<Date.now()/1e3)){e.next=49;break}return this.showAlert("Please Enter Valid Deadline"),e.abrupt("return");case 49:for(this.setState({isLoading:!0}),delete(h=Object(c.a)({},this.state)).isError,delete h.isLoading,delete h.alertState,delete h.alertMsg,delete h.member_emails,delete h.member_names,h.members=Array(),j=0;j<this.state.member_emails.length;j++)h.members.push({name:this.state.member_names[j],email:this.state.member_emails[j]});d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)},fetch(A+"/create",d).then((function(e){return e.json()})).then((function(e){b.setState({isLoading:!1}),0!==e.status?b.props.history.push("/Done"):b.setState({isError:!0})})).catch(function(e){this.setState({isLoading:!1,isError:!0}),console.info(e+"------err------")}.bind(this));case 61:case"end":return e.stop()}}),e,this,[[2,13,16,19],[20,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?Object(T.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(T.jsx)(y.a,{style:{margin:"20px"}})}):this.state.isError?Object(T.jsx)("div",{children:Object(T.jsx)(g.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:"Error! Something Happened. Please Try Again."})}):Object(T.jsxs)(v.a,{container:!0,alignItems:"center",justify:"center",style:{minHeight:"100vh"},id:"main",children:[Object(T.jsxs)(S.a,{open:this.state.alertState,children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(k.a,{children:this.state.alertMsg})}),Object(T.jsx)(C.a,{children:Object(T.jsx)(_.a,{onClick:this.hideAlert,color:"primary",children:"Ok"})})]}),Object(T.jsx)(E.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(T.jsxs)("span",{style:{display:"flex",flexDirection:"column",padding:"10px"},children:[Object(T.jsx)("b",{children:"Whats this app about?"}),Object(T.jsx)("br",{}),Object(T.jsx)("ul",{children:Object(T.jsx)("li",{children:"It automates group formation for projects/presentations/assignments etc, based on individual preferences."})}),Object(T.jsxs)("p",{children:[Object(T.jsx)("b",{children:"But why not just ask other participants instead?"}),Object(T.jsx)("br",{}),Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"Asking dozens of people to see if they are available is really annoying."}),Object(T.jsx)("li",{children:"You might feel that you would have been better off with some other choice."}),Object(T.jsx)("li",{children:"A situation might arise where everyone is grouped but some groups are left with vacancies."}),Object(T.jsx)("li",{children:"By letting an app do the matching, you also avoid all those awkward moments where you have to reject someone or get rejected."})]})]}),Object(T.jsx)("b",{children:"How to use?"}),Object(T.jsx)("br",{}),Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"You fill out this form."}),Object(T.jsx)("li",{children:"The app will mail a form to every participants, asking them to assign a preference (on a scale of 1 to 10) to all the other participants they would like to be grouped with."}),Object(T.jsx)("li",{children:"Once everyone has filled their choices (or the deadline is reached), the app will form optimal groups and send emails to all the participants, informing them of their respective groups."}),Object(T.jsx)("li",{children:"Additionally it will also send you a mail containing all group allocations."})]}),Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"How does it work?"}),Object(T.jsx)("ul",{children:Object(T.jsxs)("li",{children:["See\xa0",Object(T.jsx)("a",{href:"https://github.com/AnjayGoel/Stable-Roommate-Generalised",children:"this"}),". Suggestions, PRs are welcomed."]})})]})}),Object(T.jsx)("br",{}),Object(T.jsx)(E.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px"},children:Object(T.jsx)("form",{id:"mainForm",onSubmit:this.handleSubmit,children:Object(T.jsxs)(v.a,{container:!0,spacing:0,direction:"column",style:{padding:"30px"},children:[Object(T.jsx)(P.a,{name:"organizer_name",type:"text",label:"Organizer's Name",required:!0,"data-parse":"uppercase",onChange:this.handleChange}),Object(T.jsx)("p",{}),Object(T.jsx)(P.a,{name:"organizer_email",type:"email",label:"Organizer's Email",required:!0,onChange:this.handleChange}),Object(T.jsx)("p",{}),Object(T.jsx)(P.a,{name:"project_title",type:"text",label:"Title of Project",required:!0,onChange:this.handleChange}),Object(T.jsx)("p",{}),Object(T.jsx)(P.a,{name:"grp_size",type:"number",label:"Group Size",InputProps:{inputProps:{min:2}},required:!0,onChange:this.handleChange}),Object(T.jsx)("p",{}),Object(T.jsx)(P.a,{name:"deadline",type:"date",label:"Group formation deadline",required:!0,InputLabelProps:{shrink:!0},onChange:this.handleChange}),Object(T.jsx)("p",{}),Object(T.jsxs)("div",{style:{display:"flex"},children:[Object(T.jsx)("span",{style:{margin:"20px",marginLeft:"0px"},children:Object(T.jsx)(P.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Names",variant:"outlined",name:"member_names",helperText:"Seperated by a new line"})}),Object(T.jsx)("span",{style:{margin:"20px",marginRight:"0px"},children:Object(T.jsx)(P.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Emails",variant:"outlined",name:"member_emails",helperText:"Ensure same order as names"})}),Object(T.jsx)("p",{})]}),Object(T.jsx)(_.a,{type:"Submit",variant:"contained",color:"primary",children:"Create"})]})})})]})}}]),n}(x.a.Component),z=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"About..."})})}}]),n}(x.a.Component),I=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(T.jsxs)("div",{style:{textAlign:"center",margin:"30px"},children:[Object(T.jsx)("h3",{children:"Thank You!"}),Object(T.jsx)("p",{children:"We will mail you the results when the process is complete."})]})}}]),n}(x.a.Component),N=n(261),D=n(267),M=n(262),q=n(263),G=n(115),R=n(264),F=n(252),H=n(111),J=n(14),B=n(109),Y=n.n(B),W=n(268),U=n(259),V=n(260),K=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handleTag=a.handleTag.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.delete=a.delete.bind(Object(b.a)(a)),a.getNames=a.getNames.bind(Object(b.a)(a)),a.getNames(),a.state={name:"Loading...",project_title:"Loading...",organizer_name:"Loading....",all:[],chosen:[],chosenPref:[],isLoading:!0,isError:!1,errorMsg:""},a}return Object(d.a)(n,[{key:"getNames",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)},fetch(A+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,t).then((function(e){return e.json()})).then((function(e){if(n.setState({isLoading:!1}),0===e.status)return n.setState({isError:!0}),void n.setState({errorMsg:e.message});n.setState({name:e.name,project_title:e.project_title,organizer_name:e.organizer_name,all:e.names.filter((function(t){return t!==e.name})),chosen:[]})})).catch(function(e){this.setState({isLoading:!1,isError:!0})}.bind(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.chosenPref,a=this.state.chosen.map((function(e,t){return{name:e,score:n[t]}}));this.setState({isLoading:!0});var r={data:a},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};fetch(A+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,i).then((function(e){return e.json()})).then((function(e){0!==e.status?t.props.history.push("/Done"):t.setState({isError:!0})})).catch(function(e){this.setState({isError:!0}),console.info(e+"------err------")}.bind(this))}},{key:"delete",value:function(e){var t=this.state.chosen;t.splice(e,1),this.setState({chosen:t})}},{key:"pref",value:function(e,t){var n=this.state.chosenPref;n[e]=parseInt(t),this.setState({chosenPref:n})}},{key:"handleTag",value:function(e,t){if(this.state.all.includes(t)){var n=this.state.chosen;n.includes(t)||(n.push(t),this.setState({chosen:n}))}}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return Object(T.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(T.jsx)(y.a,{style:{margin:"20px"}})});if(this.state.isError)return Object(T.jsx)("div",{children:Object(T.jsxs)(g.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:["Error! ",this.state.errorMsg,"."]})});var t=[],n=function(n){t.push(Object(T.jsx)(Q,{name:e.state.chosen[n],onClick:function(){return e.delete(n)},onPref:function(t){return e.pref(n,t.target.value)}},n.toString()))};for(var a in this.state.chosen)n(a);return Object(T.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(T.jsx)(D.a,{id:"main",style:{justifyContent:"center",display:"inline-block"},children:Object(T.jsx)(E.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(T.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(T.jsxs)("p",{children:["Hello ",this.state.name,",",Object(T.jsx)("br",{}),"Please fill out your preferences for ",this.state.project_title," "]}),Object(T.jsxs)("span",{style:{marginLeft:-100,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(T.jsx)(G.a,{style:{margin:10},children:"Find Name:"}),Object(T.jsx)(W.a,{onInputChange:this.handleTag,options:this.state.all,getOptionLabel:function(e){return e},style:{width:300},onChange:this.onTagsChange,renderInput:function(e){return Object(T.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})," "]}),Object(T.jsx)(E.a,{elevation:0,style:{maxHeight:400,overflow:"unset"},children:Object(T.jsx)(U.a,{style:{justifyContent:"center",alignItems:"center"},children:t})}),Object(T.jsx)("span",{style:{margin:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(T.jsx)(_.a,{type:"submit",style:{margin:"20px",alignSelf:"center"},variant:"contained",color:"primary",children:"Submit"})}),Object(T.jsxs)("div",{children:["Note:",Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"You can leave out choices, it that case they will be assigned a preference of zero."}),Object(T.jsx)("li",{children:"Filling out as many choices as you can will lead to a better matching."})]})]})]})})})})}}]),n}(x.a.Component),Q=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(j.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return Object(T.jsx)(V.a,{style:{justifyContent:"center",alignItems:"center"},children:Object(T.jsx)(E.a,{children:Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(G.a,{align:"center",style:{margin:"20px"},children:this.props.name}),Object(T.jsx)(P.a,{style:{minWidth:"170px",marginBottom:"20px"},required:!0,onChange:this.props.onPref,InputProps:{inputProps:{max:10,min:0}},type:"number",label:"Preference (0-10)"}),Object(T.jsx)(F.a,{"aria-label":"delete",onClick:this.props.onClick,children:Object(T.jsx)(Y.a,{fontSize:"large"})})]})})})}}]),n}(x.a.Component),X=K,Z=n(112),$=n(110),ee=n.n($),te=Object(Z.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});Object(Z.a)({palette:{primary:{light:"#000000",main:"#000000",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});function ne(){return Object(T.jsx)("main",{children:Object(T.jsxs)(J.d,{children:[Object(T.jsx)(J.b,{path:"/",component:L,exact:!0}),Object(T.jsx)(J.b,{path:"/home",component:L,exact:!0}),Object(T.jsx)(J.b,{path:"/about",component:z}),Object(T.jsx)(J.b,{path:"/done",component:I}),Object(T.jsx)(J.b,{path:"/fillPreference/:id/:secret",component:X}),Object(T.jsx)(J.b,{render:function(){return Object(T.jsx)(J.a,{to:{pathname:"/"}})}})]})})}r.a.render(Object(T.jsx)(x.a.StrictMode,{children:Object(T.jsx)(N.a,{theme:te,children:Object(T.jsxs)(D.a,{children:[Object(T.jsx)(M.a,{position:"static",children:Object(T.jsxs)(q.a,{children:[Object(T.jsx)(G.a,{style:{fontSize:"large"},children:Object(T.jsx)(R.a,{href:"/GroupUs",color:"inherit",style:{textDecoration:"none"},children:"Group Us"})}),Object(T.jsx)("div",{style:{marginLeft:"auto"},children:Object(T.jsx)(F.a,{"aria-label":"Github",style:{color:"white",justifySelf:"right"},onClick:function(){return window.open("https://github.com/anjaygoel")},children:Object(T.jsx)(ee.a,{style:{color:"white",justifySelf:"right"}})})})]})}),Object(T.jsx)(H.a,{children:Object(T.jsx)(ne,{})})]})})}),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.0617ae3a.chunk.js.map