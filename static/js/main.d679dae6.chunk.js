(this["webpackJsonpsrg-web"]=this["webpackJsonpsrg-web"]||[]).push([[0],{119:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n.n(a),r=(n(119),n(42)),s=n.n(r),c=n(48),l=n(71),o=n(54),h=n(53),d=n(29),j=n(30),b=n(26),p=n(32),u=n(31),m=n(0),x=n.n(m),f=n(95),O=n.n(f),g=n(259),y=n(242),v=n(257),S=n(215),k=n(246),C=n(255),w=n(249),_=null;_="https://silverbug.eastus.cloudapp.azure.com";var E=n(2),P=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={isLoading:!1,isError:!1},e.handleChange=e.handleChange.bind(Object(b.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(b.a)(e)),e}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;"member_emails"===t?this.setState({member_emails:n.trim().split(/\r?\n/)}):"member_names"===t?this.setState({member_names:n.trim().split(/\r?\n/)}):"deadline"===t?this.setState({deadline:Date.parse(n)/1e3}):"grp_size"===t?this.setState({grp_size:parseInt(n)}):this.setState(Object(h.a)({},t,n))}},{key:"handleSubmit",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n,a,i,r,o,h,d,j,b=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.setState({isLoading:!0}),n=Object(l.a)(this.state.member_emails),e.prev=3,n.s();case 5:if((a=n.n()).done){e.next=12;break}if(i=a.value,O.a.isEmail(i.trim())){e.next=10;break}return alert("Please Check Member Emails For Error (Invalid Email-Id,Empty Rows etc)"),e.abrupt("return");case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:r=Object(l.a)(this.state.member_names),e.prev=21,r.s();case 23:if((o=r.n()).done){e.next=30;break}if(""!==o.value){e.next=28;break}return alert("Please Check Member Names For Error (Empty Rows etc)"),e.abrupt("return");case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(21),r.e(e.t1);case 35:return e.prev=35,r.f(),e.finish(35);case 38:if(0!==this.state.member_emails.length&&0!==this.state.member_names.length){e.next=41;break}return alert("Please Fill All Fields"),e.abrupt("return");case 41:if(this.state.member_emails.length===this.state.member_names.length){e.next=44;break}return alert("Different Number Of Names And Email"),e.abrupt("return");case 44:for(delete(h=Object(c.a)({},this.state)).isError,delete h.isLoading,delete h.member_emails,delete h.member_names,h.members=Array(),d=0;d<this.state.member_emails.length;d++)h.members.push({name:this.state.member_names[d],email:this.state.member_emails[d]});console.log(h),console.log("----------"),j={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)},fetch(_+"/create",j).then((function(e){return e.json()})).then((function(e){b.setState({isLoading:!1}),0!==e.status?b.props.history.push("/Done"):b.setState({isError:!0})})).catch(function(e){this.setState({isLoading:!1,isError:!0}),console.info(e+"------err------")}.bind(this));case 55:case"end":return e.stop()}}),e,this,[[3,14,17,20],[21,32,35,38]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isLoading?Object(E.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(E.jsx)(y.a,{style:{margin:"20px"}})}):this.state.isError?Object(E.jsx)("div",{children:Object(E.jsx)(g.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:"Error! Something Happened. Please Try Again."})}):Object(E.jsxs)(v.a,{id:"main",children:[Object(E.jsx)(S.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(E.jsxs)("ul",{children:[Object(E.jsxs)("li",{children:[Object(E.jsx)("b",{children:"Whats this app about?"}),Object(E.jsx)("ul",{children:Object(E.jsx)("li",{children:"It automates group formation for projects/presentations/assignments etc, based on individual preferences"})})]}),Object(E.jsx)("li",{children:Object(E.jsxs)("p",{children:[Object(E.jsx)("b",{children:"But why not just ask other participants instead?"}),Object(E.jsx)("br",{}),Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Asking dozens of people to see if they are available is really annoying."}),Object(E.jsx)("li",{children:"You might feel that you would have been better off with some other choice."}),Object(E.jsx)("li",{children:"A situation might arise where everyone is grouped but some groups are left with vacancies"}),Object(E.jsx)("li",{children:"By letting an app do the matching, you also avoid all those awkward moments where you have to reject someone or get rejected."})]})]})}),Object(E.jsxs)("li",{children:[Object(E.jsx)("b",{children:"How to use?"}),Object(E.jsx)("br",{}),Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"You fill out this form."}),Object(E.jsx)("li",{children:"The app will mail a form to every participants, asking them to assign a preference (on a scale of 1 to 10) to all the other participants they would like to be grouped with."}),Object(E.jsx)("li",{children:"Once everyone has filled their choices (or the deadline is reached), the app will form optimal groups and send emails to all the participants, informing them of their respective groups. Additionally it will also send you a mail containing all group allocations"})]}),Object(E.jsx)("br",{})]}),Object(E.jsxs)("li",{children:[Object(E.jsx)("b",{children:"How does it work?"}),Object(E.jsx)("ul",{children:Object(E.jsxs)("li",{children:["See\xa0",Object(E.jsx)("a",{href:"https://github.com/AnjayGoel/Stable-Roommate-Generalised",children:"this"}),". \xa0Suggestions, PR are welcomed."]})})]})]})}),Object(E.jsx)("br",{}),Object(E.jsx)(S.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px"},children:Object(E.jsx)(k.a,{container:!0,spacing:0,direction:"column",style:{padding:"40px"},children:Object(E.jsxs)("form",{id:"mainForm",onSubmit:this.handleSubmit,children:[Object(E.jsx)("p",{children:"Your Name"}),Object(E.jsx)(C.a,{name:"organizer_name",type:"text",required:!0,"data-parse":"uppercase",onChange:this.handleChange}),Object(E.jsx)("p",{children:"Your Email"}),Object(E.jsx)(C.a,{name:"organizer_email",type:"email",required:!0,onChange:this.handleChange}),Object(E.jsx)("p",{children:"Title of Project"}),Object(E.jsx)(C.a,{name:"project_title",type:"text",required:!0,onChange:this.handleChange}),Object(E.jsx)("p",{children:"Group Size"}),Object(E.jsx)(C.a,{name:"grp_size",type:"number",InputProps:{inputProps:{min:2}},required:!0,onChange:this.handleChange}),Object(E.jsx)("p",{children:"The Deadline for Group Formation"}),Object(E.jsx)(C.a,{name:"deadline",type:"date",required:!0,onChange:this.handleChange}),Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsxs)("span",{style:{margin:"20px",marginLeft:"0px"},children:[Object(E.jsx)("p",{children:"Names of Participants (Seperated by a new line)"}),Object(E.jsx)(C.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Names",variant:"outlined",name:"member_names"})]}),Object(E.jsxs)("span",{style:{margin:"20px"},children:[Object(E.jsx)("p",{children:"Emails of Participant (In same order as names)"}),Object(E.jsx)(C.a,{multiline:!0,required:!0,rows:5,rowsMax:10,onChange:this.handleChange,label:"Participant Emails",variant:"outlined",name:"member_emails"})]}),Object(E.jsx)("p",{})]}),Object(E.jsx)(w.a,{type:"Submit",variant:"contained",color:"primary",children:"Submit"})]})})})]})}}]),n}(x.a.Component),T=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(E.jsx)("div",{children:Object(E.jsx)("h1",{children:"About..."})})}}]),n}(x.a.Component),I=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(E.jsxs)("div",{style:{textAlign:"center",margin:"30px"},children:[Object(E.jsx)("h3",{children:"Thank You!"}),Object(E.jsx)("p",{children:"We will mail you the results when the process is complete."})]})}}]),n}(x.a.Component),L=n(251),N=n(252),z=n(253),A=n(216),D=n(254),q=n(102),F=n(13),R=n(101),G=n.n(R),H=n(258),Y=n(248),J=n(250),M=n(245),B=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleTag=a.handleTag.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.delete=a.delete.bind(Object(b.a)(a)),a.getNames=a.getNames.bind(Object(b.a)(a)),a.getNames(),a.state={name:"Loading...",project_title:"Loading...",organizer_name:"Loading....",all:[],chosen:[],chosenPref:[],isLoading:!0,isError:!1},a}return Object(j.a)(n,[{key:"getNames",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)},fetch(_+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,t).then((function(e){return e.json()})).then((function(e){n.setState({isLoading:!1}),0!==e.status?n.setState({name:e.name,project_title:e.project_title,organizer_name:e.organizer_name,all:e.names.filter((function(t){return t!==e.name})),chosen:[]}):n.setState({isError:!0})})).catch(function(e){this.setState({isLoading:!1,isError:!0}),console.info(e+"------err------")}.bind(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.chosenPref,a=this.state.chosen.map((function(e,t){return{name:e,score:n[t]}}));this.setState({isLoading:!0});var i={data:a},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};fetch(_+"/vote/"+this.props.match.params.id+"/"+this.props.match.params.secret,r).then((function(e){return e.json()})).then((function(e){0!==e.status?t.props.history.push("/Done"):t.setState({isError:!0})})).catch(function(e){this.setState({isError:!0}),console.info(e+"------err------")}.bind(this))}},{key:"delete",value:function(e){var t=this.state.chosen;t.splice(e,1),this.setState({chosen:t})}},{key:"pref",value:function(e,t){var n=this.state.chosenPref;n[e]=parseInt(t),this.setState({chosenPref:n})}},{key:"handleTag",value:function(e,t){if(this.state.all.includes(t)){var n=this.state.chosen;n.includes(t)||(n.push(t),this.setState({chosen:n}))}}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return Object(E.jsx)("div",{style:{justifyContent:"center",display:"flex"},children:Object(E.jsx)(y.a,{style:{margin:"20px"}})});if(this.state.isError)return Object(E.jsx)("div",{children:Object(E.jsx)(g.a,{severity:"error",style:{display:"flex",justifyContent:"center"},children:"Error! Something Happened. Please Try Again."})});var t=[],n=function(n){t.push(Object(E.jsx)(W,{name:e.state.chosen[n],onClick:function(){return e.delete(n)},onPref:function(t){return e.pref(n,t.target.value)}},n.toString()))};for(var a in this.state.chosen)n(a);return Object(E.jsx)(v.a,{id:"main",style:{display:"inline-block"},children:Object(E.jsx)(S.a,{elevation:3,style:{borderRadius:"10px",margin:"10px",padding:"10px",paddingTop:"30px"},children:Object(E.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(E.jsxs)("p",{children:["Hello ",this.state.name,",",Object(E.jsx)("br",{}),"Please fill out your preferences for ",this.state.project_title," "]}),Object(E.jsxs)("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(E.jsx)(A.a,{style:{margin:10},children:"Find Name:"}),Object(E.jsx)(H.a,{onInputChange:this.handleTag,options:this.state.all,getOptionLabel:function(e){return e},style:{width:300},onChange:this.onTagsChange,renderInput:function(e){return Object(E.jsx)(C.a,Object(c.a)(Object(c.a)({},e),{},{variant:"outlined"}))}})," "]}),Object(E.jsx)(S.a,{elevation:0,style:{maxHeight:400,overflow:"unset"},children:Object(E.jsx)(Y.a,{style:{justifyContent:"center",alignItems:"center"},children:t})}),Object(E.jsx)("span",{style:{margin:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(E.jsx)(w.a,{type:"submit",style:{margin:"20px",alignSelf:"center"},variant:"contained",color:"primary",children:"Submit"})}),Object(E.jsxs)("div",{children:["Note:",Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"You can leave out choices, it that case they will be assigned a preference of zero."}),Object(E.jsx)("li",{children:"Filling out as many choices as you can will lead to a better matching."})]})]})]})})})}}]),n}(x.a.Component),W=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(j.a)(n,[{key:"render",value:function(){return Object(E.jsx)(J.a,{style:{justifyContent:"center",alignItems:"center"},children:Object(E.jsx)(S.a,{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(E.jsx)(A.a,{align:"center",style:{margin:"20px"},children:this.props.name}),Object(E.jsx)(C.a,{style:{minWidth:"170px"},required:!0,onChange:this.props.onPref,InputProps:{inputProps:{max:10,min:0}},type:"number",label:"Preference (0-10)"}),Object(E.jsx)(M.a,{"aria-label":"delete",onClick:this.props.onClick,children:Object(E.jsx)(G.a,{fontSize:"large"})})]})})})}}]),n}(x.a.Component),U=B,K=n(103),Q=Object(K.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});Object(K.a)({palette:{primary:{light:"#000000",main:"#000000",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});function V(){return Object(E.jsx)("main",{children:Object(E.jsxs)(F.c,{children:[Object(E.jsx)(F.a,{path:"/",component:P,exact:!0}),Object(E.jsx)(F.a,{path:"/home",component:P,exact:!0}),Object(E.jsx)(F.a,{path:"/about",component:T}),Object(E.jsx)(F.a,{path:"/done",component:I}),Object(E.jsx)(F.a,{path:"/fillPreference/:id/:secret",component:U})]})})}i.a.render(Object(E.jsx)(x.a.StrictMode,{children:Object(E.jsx)(L.a,{theme:Q,children:Object(E.jsxs)(v.a,{children:[Object(E.jsx)(N.a,{position:"static",children:Object(E.jsx)(z.a,{children:Object(E.jsx)(A.a,{children:Object(E.jsx)(D.a,{href:"/",color:"inherit",style:{textDecoration:"none"},children:"Group Us"})})})}),Object(E.jsx)(q.a,{children:Object(E.jsx)(V,{})})]})})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.d679dae6.chunk.js.map